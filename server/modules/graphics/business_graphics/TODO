
Key word eng:
string diagram_eng(float a)
{
  array(string) pfix = ({ "a", "f", "p", "n", "µ", "m", "",
			  "k", "M", "G", "T", "P", "E" });

  if (a == 0.0) return "0";

  float p = log(a)/log(1000.0);
  if (p < -6.0) p = 0.0;
  if (p >= 7.0) p = 0.0;
  int i = (int) floor(p+0.000001);
  return sprintf("%g%s", a*exp(-i*log(1000.0)), pfix[6+i]);
}






<diagram type=piechart>
<data form=rows>49      11      33      4       26      8       39</data>
<xnames>Jan     Feb     Mar     Apr     May     Jun     Jul     Aug</xnames>
</diagram>

ger:                                                                           

Index out of range.
create_pie(mapping[40]) in line 401 in /home/noring/src/Business_graphics/creat\
e_pie.pike
find_file(string[289],object) in line 634 in /home/noring/src/Business_graphics\
/business.pike
low_get_file(object,0) in line 1045 in /home/noring/roxen/server/base_server/co\
nfiguration.pike
get_file(object,0) in line 1131 in /home/noring/roxen/server/base_server/config\
uration.pike
handle_request() in line 814 in protocols/http.pike
handler_thread(4) in line 203 in /home/noring/roxen/server/base_server/roxen.pi\
ke                                                   

Krasch3:

diagram type=linechart><data form=rows>0</data></diagram>

ger:

Error: Internal server error.

Very bad error because yspace is zero!
create_bars(mapping[41]) in line 112 in /home/noring/src/Business_graphics/crea\
te_bars.pike
find_file(string[240],object) in line 637 in /home/noring/src/Business_graphics\
/business.pike
low_get_file(object,0) in line 1045 in /home/noring/roxen/server/base_server/co\
nfiguration.pike
get_file(object,0) in line 1131 in /home/noring/roxen/server/base_server/config\
uration.pike
handle_request() in line 814 in protocols/http.pike                


<diagram type=piechart><data form=rows>0</data></diagram>

ger:

Error: Internal server error.

Division by zero.
create_pie(mapping[39]) in line 158 in /home/noring/src/Business_graphics/creat\
e_pie.pike
find_file(string[229],object) in line 634 in /home/noring/src/Business_graphics\
/business.pike
low_get_file(object,0) in line 1045 in /home/noring/roxen/server/base_server/co\
nfiguration.pike
get_file(object,0) in line 1131 in /home/noring/roxen/server/base_server/config\
uration.pike                                           
















1.1

foo-diagram
Wing:      MMMMMMMMMMM
Olle:  MMMMMMMM
Stina:                MMMMMM
       m t o t f l s foo bar



Fixa följande kollar i init:

?om labels saknas: sätt labelsize till 0

%get_font ska implementeras rätt. Se till att inga scale finns!

%Övriga kollar:
%Graph:
%se till att label för x inte är för lång.
%se till att labelcolor finns!

%Graph och bars:
%se till att x-texten inte är för lång.
%se till att den inte är för hög.
%-"- y-texten

%Grind!


I create_graph:
Se till att antalet siffror på axlarna kan varieras.

%Default-färger för bars och graph

Översätt till engelska

%Fixa så att bilderna inte behöver vara lika stora som graphen

%Kolla storlekar i pie-charts

%Svartvitt!

Skapa type=table

Snyggt! Går det att lägga in mer spacing mellan siffrorna och y-axeln,
och mellan teckenförklaringen och bildens ytterkant? 

Ram runt graphen

%Pilen i
%stapeldiagrammen verkar ha halkat ner lite jmf grafdiagrammen.

Fixa tårtbitar i stapeln på pajerna
Fixa rätt skuggning
