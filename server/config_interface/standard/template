<!-- -*- html -*- -->
<define tag='cfg-variables'>
  <if not variable='_.nosave'><cf-save/></if>
  <if variable='form.section'>
    <input type='hidden' name='section' value='&form.section;'/>
  </if>
  <br clear="all" />
  <emit ::='&_.args;'/>
  <set variable='var.oldchanged' value='notreally'/>
  <table cellspacing="0" cellpadding="4">
    <emit ::='&_.args;' noset=''>
      <cond>
        <case variable='usr.changemark is not'>
          <tr><td valign=top width="20%" valign="top"><b>&_.name;</b></td>
		<td valign="top"><eval>&_.form:none;</eval></td></tr>
          <tr><td colspan="2">&_.doc:none;<p>&_.type_hint;</p></td></tr>
        </case>
    
        <case variable='usr.changemark is color'>
          <if variable='_.changed is 1'>
           <set variable='var.extraargs' value='bgcolor="&usr.fade2;"'/>
          </if>
          <else>
           <set variable='var.extraargs' value=''/>
          </else>
          <tr>
            <td valign="top" width="20%"><b>&_.name;</b></td>
            <td valign="top" ::='&var.extraargs;'><eval>&_.form:none;</eval></td>
          </tr>
          <tr>
            <td colspan="2">&_.doc:none;<p>&_.type_hint;</p></td>
          </tr>
        </case>
    
        <case variable='usr.changemark is header'>
          <if not variable='_.changed is &var.oldchanged;'>
            <set variable='var.oldchanged' value='&_.changed;'/>
            <if variable='_.changed is 1'>
            <tr bgcolor='&usr.content-titlebg;'>
              <td colspan="2" width="100%">
                <font size='+1' color='&usr.content-titlefg;'><translate id="358">Changed</translate></font>
             </td>
            </tr>
          </if>
          <else>
            <tr bgcolor='&usr.content-titlebg;'>
              <td colspan="2" width="100%">
                <font size='+1' color='&usr.content-titlefg;'><translate id="359">Unchanged</translate></font>
              </td>
            </tr>
          </else>
         </if>
         <tr><td valign="top" width="20%"><b>&_.name;</b></td><td valign="top"><eval>&_.form:none;</eval></td></tr>
         <tr><td colspan="2">&_.doc:none;<p>&_.type_hint;</p></td></tr>
        </case>
      </cond>
    </emit>
  </table>
  <if not variable='_.nosave'><cf-save/></if>

</define>
<define container="st-tabs">
  <colorscope ::="&usr.subtabs-tableargs:none;">
    <define preparse="1" variable="var.__tabs"><contents/></define>
  </colorscope>
</define>

<define container="st-page">
  <colorscope bgcolor="&usr.content-bg;">
    <define preparse="1" variable="var.__contents"><contents/></define>
  </colorscope>
</define>

<define container="cv-leftside">
  <colorscope ::="&usr.left-tableargs:none;">
    <define preparse="1" variable="var.leftside"><contents/></define>
  </colorscope>
</define>

<define container="cv-split">
 <table ::="&usr.content-toptableargs:none;" width="100%">
   <tr>
     <td width="10"><img src="/internal-roxen-unit" width="10" height="1" alt="" /></td>
     <td ::="&usr.left-tableargs:none;">
       <img src="/internal-roxen-unit" width="150" height="1" alt="" /><br />
       &var.leftside:none;&var.leftimage:none;
     </td>
     <td ::="&usr.content-tableargs:none;">
       <contents/>
     </td>
   </tr>
  </table>
</define>

<define container="cv-startpage">
  <cv-split>
    <subtablist>
      <st-tabs><insert file="/standard/cv_startpage_tabs.pike" nocache="1"/></st-tabs>
      <st-page><contents/></st-page>
    </subtablist>
   </cv-split>
</define>

<define container="cv-obox">
  <table cellpadding="1" cellspacing="0" border="0" width="&_.width;" align="center" bgcolor="&usr.obox-border;">
  <tr><td>
  <table cellpadding="2" cellspacing="0" border="0" width="&_.iwidth;" align="center">
  <tr bgcolor="&usr.obox-titlebg;">
    <td valign="top">
      <font color="&usr.obox-titlefg;" face="&usr.obox-titlefont;"
            size="+1"><b>&_.title;</b></font>
    </td>
  </tr>

  <tr><td bgcolor="&usr.obox-bodybg;"><font color="&usr.obox-bodyfg;" size="2">
    <contents/>
  </font></td></tr>
  </table>
  </td></tr></table>
</define>

<define container='box'>
 <if variable="_.type is small">
   <cv-obox width='200' iwidth=198 title='&_.title;'><contents/></cv-obox>
 </if>
 <else>
   <cv-obox width='400' iwidth='398' title='&_.title;'><contents/></cv-obox>
 </else>
</define>

<define container="subtablist">
<nooutput>
  <contents/>
</nooutput><p><br /></p>
  <table width="100%" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td ::="&usr.subtabs-tableargs:none;"><tablist ::="&usr.subtabs-args:none;">
        <eval>&var.__tabs:none;</eval>
      </tablist></td>
    </tr>
    <tr>
      <td bgcolor="&usr.content-bg;">&var.__contents:none;</td>
    </tr>
  </table>
</define>

<define tag="topmenu">
 <attrib name="base"></attrib>
 <attrib name="selected">home</attrib>
 <define variable="var._top_content" preparse="1"><insert file="/standard/topmenu.pike" nocache="1"/></define>
</define>

<define container="submit-gbutton">
<attrib name="align">baseline</attrib>
  <define variable="var.url" preparse="1"><gbutton-url font="&usr.gbutton-font;" preparse="">&_.contents;</gbutton-url></define>
   <input align="&_.align;" type="image" name="&_.contents;" value="&_.contents;" src="&var.url;" border="0" />
</define>

<define container="submit-gbutton2">
<attrib name="img-align">baseline</attrib>
<define variable="var.url" preparse="1"><gbutton-url ::='&_.args;' font="&usr.gbutton-font;"><contents/></gbutton-url></define>
   <set variable="contents"><eval>&_.contents:none;</eval></set>
   <input align="&_.img-align;" type="image" name="&_.name;" value="&_.contents;" src="&var.url;" border="0" />
</define>

<define tag="cf-save"> <submit-gbutton2 name='save' img-align="right"> <translate id="bA">Save</translate> </submit-gbutton2> </define>
<define tag="cf-ok"> <submit-gbutton2 name='ok'> <translate id="201">Ok</translate> </submit-gbutton2> </define>
<define tag="cf-cancel"> <gbutton href="&_.href;"> <translate id="202">Cancel</translate> </gbutton> </define>

<define tag="cf-next">
   <submit-gbutton2 preparse="1" name="next" icon_src="&usr.next;" align_icon="right"> <translate id="203">Next</translate> </submit-gbutton2>
</define>

<define container="content"><cset quote="none" variable="var.content"><contents/></cset></define>

<define container="tmpl">
  <trans-reg project="roxen_config" />
<html><head>
<title>&roxen.version; <translate id="204">Administration Interface</translate><eval>&_.title:none;</eval></title>
</head>
<gauge variable='var.time-spent' resultonly='yes'>
<nooutput>
  <eval><insert file="/standard/themes/&usr.theme;/theme" nocache="1" /></eval>
  <define preparse="1" variable="var.leftimage"><img src="&usr.left-image;" alt="" /></define>
  <define preparse="1" name="tab-frame-image">&usr.tab-frame-image;</define>
  <define preparse="1" name="tab-font-size">&usr.tab-font-size;</define>
  <define preparse="1" name="gbutton-frame-image">&usr.gbutton-frame-image;</define>
  <define name="font" preparse="1">&usr.font;</define>
  <expire-time now="1"/>
<gauge variable='var.time-parse-spent' resultonly='yes'>
  <contents/>
</gauge>
</nooutput>
  <body ::="&usr.body-args:none;">
      <table width="100%" cellpadding="0" cellspacing="0" border="0"
             ::="&usr.top-tableargs:none;">
      <tr>
      <td><a href="http://www.roxen.com/">&usr.logo-html:none;</a></td>
      <td align="right" valign="top">
        <table>
         <cf-userwants option=translations>
          <tr><td align="right">
           <gtext font="&usr.font;"
                  fgcolor="&usr.top-fgcolor;" scale="0.45"
                  hspace="3"><translate id="205">Language</translate>:</gtext>
           </td>
           <td>
             <font color="&usr.fgcolor;">
              <emit source="locales">
                <a href="&_.path;"
                  ><img src="/internal-roxen-flag-&_.name;&_.-selected;.gif"
                       alt="&_.latin1-name;" border="0" height="16"
                /></a>
              </emit>
             </font>
           </td>
          </tr>
         </cf-userwants>
         <tr>
           <td align="right">
             <font color="&usr.top-fgcolor;">
              <gbutton href="/standard/change_user.pike?uid=&usr.user-uid;"
                  align="right" textcolor="&usr.top-fgcolor;"
                  width="70"> <translate id="206">User</translate>: </gbutton>
            </td>
            <td>
               <font color="&usr.top-fgcolor;">
                &usr.user-name; (&usr.user-uid;)
               </font>
            </td>
         </tr>
       </table>
     </td>
   </tr>
   <tr>
     <td colspan="2" ::="&usr.toptabs-tableargs:none;" width="100%" valign="bottom"><img src="/internal-roxen-unit" width="50" height="1" alt="" />&var._top_content:none;</td>
   </tr>
  </table>

    <!-- enctype="multipart/form-data"  -->
   <form method="POST" action="&cf.current-url;">
     <roxen-automatic-charset-variable/>
     &var.content:none;
   </form>
</gauge>
    <div align="right">
     <font size="-1"><b>&roxen.version; / &roxen.pike-version;</b><br />
<set variable=var.time-ms expr='&var.time-spent; * 1000'/>
Total render time: <sprintf format='%d'>&var.time-ms;</sprintf>ms <br />
<set variable=var.time-ms expr='&var.time-parse-spent; * 1000'/>
Content file: <sprintf format='%d'>&var.time-ms;</sprintf>ms <br />


</font>    
     </div>
  </body>
</html>
</define>
