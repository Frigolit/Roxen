<!-- -*- html -*- -->
<!-- $Id: template,v 1.119 2002/11/07 18:07:32 mani Exp $ -->

<define tag='cfg-variables'>
  <set variable='form.__redirect' value='1' />
  <if not variable='_.nosave'><cf-save/></if>
  <if variable='form.section'>
    <input type='hidden' name='section' value='&form.section;'/>
    <set variable='var.section' value='&form.section;'/>
  </if>
  <br clear="all" />
  <!--<emit ::='&_.args;'/>-->
  <set variable='var.oldchanged' value='0'/>
  <table cellspacing="0" cellpadding="4">
    <eval><emit ::='&_.args;'>
      <cf-render-variable/>
    </emit></eval>
  </table>
  <if not variable='_.nosave'><cf-save/></if>
</define>

<define container="st-tabs" scope="st-tabs">
  <colorscope ::="&usr.subtabs-tableargs:none;">
    <define preparse="1" variable="var.__tabs"><contents scope="st-tabs"/></define>
  </colorscope>
</define>

<define container="st-page" scope="st-page">
  <colorscope bgcolor="&usr.content-bg;" color="&usr.fgcolor;">
    <define preparse="1" variable="var.__contents"><contents scope="st-page"/></define>
  </colorscope>
</define>

<define container="cv-leftside" scope="cv-leftside">
  <colorscope ::="&usr.left-tableargs:none;">
    <define preparse="1" variable="var.leftside"><contents scope="cv-leftside"/>&usr.lefthtml:none;</define>
  </colorscope>
</define>

<define container="cv-split">
 <table ::="&usr.content-toptableargs:none;" width="100%">
   <tr>
     <td width="10"><img src="/%01/unit" width="10" height="1" alt="" /></td>
     <td ::="&usr.left-tableargs:none;">
       <img src="/%01/unit" width="&usr.leftside-padwidth;" height="1" alt="" /><br />
       &var.leftside:none;&var.leftimage:none;
     </td>
     <td ::="&usr.content-tableargs:none;">
       <contents/>
     </td>
   </tr>
  </table>
</define>

<define container="cv-startpage">
  <cv-split>
    <subtablist>
      <st-tabs><insert file="/cv_startpage_tabs.pike"/></st-tabs>
      <st-page><contents/></st-page>
    </subtablist>
   </cv-split>
</define>

<define container="subtablist">
<nooutput>
  <contents/>
</nooutput><p><br /></p>
  <table width="100%" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td ::="&usr.subtabs-tableargs:none;"><tablist ::="&usr.subtabs-args:none;">
        <eval>&var.__tabs:none;</eval>
      </tablist></td>
    </tr>
    <tr>
      <td bgcolor="&usr.content-bg;" ::="&usr.content-extratableargs;">&var.__contents:none;</td>
    </tr>
  </table>
</define>

<define tag="topmenu">
 <attrib name="base"></attrib>
 <attrib name="selected">home</attrib>
 <define variable="var._top_content" preparse="1"><insert file="/topmenu.pike"/></define>
</define>

<define container="link-gbutton" scope="link-gbutton">
<attrib name="align">baseline</attrib>
  <define variable="var.url" preparse="1"><gbutton-url font="&usr.gbutton-font;" preparse="">&link-gbutton.contents;</gbutton-url></define>
   <a href='&_.href;'><img align="&_.align;" src="&var.url;" border="0" /></a>
</define>


<define container="submit-gbutton" scope="submit-gbutton">
<attrib name="align">baseline</attrib>
<attrib name="name">ok</attrib>
  <define variable="var.url" preparse="1"><gbutton-url font="&usr.gbutton-font;" preparse="">&submit-gbutton.contents;</gbutton-url></define>
   <input align="&_.align;" type="image" name="&_.contents;" value="&_.contents;" src="&var.url;" border="0" ::="&_.rest-args;"/>
</define>

<define container="submit-gbutton2" scope="submit-gbutton2">
<attrib name="img-align">baseline</attrib>
<define variable="var.url" preparse="1"><gbutton-url ::='&submit-gbutton2.args;' font="&usr.gbutton-font;"><contents scope="submit-gbutton2"/></gbutton-url></define>
   <set variable="contents" type="text/xml"><eval>&_.contents:none;</eval></set>
   <input align="&_.img-align;" type="image" name="&_.name;" value="&_.contents;" src="&var.url;" border="0" />
</define>

<define tag="cf-save"> <submit-gbutton2 name='save' img-align="right"> Save </submit-gbutton2> </define>
<define tag="cf-ok"> <submit-gbutton2 name='ok'> Ok </submit-gbutton2> </define>
<define tag="cf-cancel"> <gbutton href="&_.href;"> Cancel </gbutton> </define>
<define tag="cf-refresh"> <gbutton href="&page.url;"> Refresh </gbutton> </define>

<define tag="cf-next">
   <submit-gbutton2 preparse="1" name="next" icon_src="&usr.next;" align_icon="right"> Next </submit-gbutton2>
</define>

<define container="content"><cset quote="none" variable="var.content"><contents/></cset></define>

<define container="tmpl">
<gauge variable='var.time-spent' resultonly='yes'><nooutput>
  <eval><insert file="/themes/&usr.theme;/theme"/></eval>
  <define preparse="1" variable="var.leftimage"><img src="&usr.left-image;" alt="" /></define>
  <define preparse="1" name="tab-frame-image">&usr.tab-frame-image;</define>
  <define preparse="1" name="tab-font-size">&usr.tab-font-size;</define>
  <define preparse="1" name="gbutton-frame-image">&usr.gbutton-frame-image;</define>
  <define name="font" preparse="1">&usr.font;</define>
  <expire-time now="1"/>
</nooutput><html><head>
<title>&roxen.version; Administration Interface<eval>&_.title:none;</eval></title>
<link rel="shortcut icon" href="&usr.favicon;" />
</head>
<nooutput><gauge variable='var.time-parse-spent' resultonly='yes'>
  <contents/>
</gauge></nooutput>
  <body ::="&usr.body-args:none;">
      <table width="100%" cellpadding="0" cellspacing="0" border="0"
             ::="&usr.top-tableargs:none;">
      <tr>
      <td><a href="http://www.chilimoon.org/">&usr.logo-html:none;</a></td>
      <td align="right" valign="top">
        <table>
         <tr>
           <td align="right">
             <font color="&usr.top-fgcolor;"><colorscope ::=&usr.top-tableargs;>
              <gbutton href="/change_user.pike?uid=&usr.user-uid;"
                  align="right" 
                  width="70"> User: </gbutton></colorscope>
	     </font>
            </td>
            <td>
               <font color="&usr.top-fgcolor;">
                &usr.user-name; (&usr.user-uid;)
               </font>
            </td>
         </tr>
       </table>
     </td>
   </tr>
   <tr>
     <td colspan="2" ::="&usr.toptabs-tableargs:none;" width="100%" valign="bottom"><img src="/%01/unit" width="&usr.toptabs-padwidth;" height="1" alt="" />&var._top_content:none;</td>
   </tr>
  </table>

    <!-- enctype="multipart/form-data"  -->
   
   <if not variable='_.noform'>
     <if variable="form.task == upload_license.pike">
       <set variable="var.form_extra">enctype="multipart/form-data"</set>
     </if>
     <form method="POST" action="&cf.current-url;" ::="&var.form_extra;">
       <roxen-automatic-charset-variable/>
       &var.content:none;
     </form>
   </if><else>
     &var.content:none;
   </else>
    <div align="right">
      <font size="-1">
  	<b>&roxen.version; / &roxen.pike-version;</b><br />
 	<if debug="yes">
 	  <set variable=var.time-ms expr='(int)(&var.time-spent; * 1000)'/>
 	  Total render time: &var.time-ms;ms <br />
 	  <set variable=var.time-ms expr='(int)(&var.time-parse-spent; * 1000)'/>
 	  Content file: &var.time-ms;ms <br />
 	</if>
      </font>
    </div>
  </body>
</html>
</gauge>
</define>
